library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 20),
axis.text.y      = element_text(size = 20),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2009,2018),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(1,10),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(nn)
gsub(" ", "",
tolower(nn)),
mcs$Nation),
"nations")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 20, hjust=0.5),
axis.text.y      = element_text(size = 20, vjust=0.5),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2009,2018),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(1,10),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(nn)
gsub(" ", "",
tolower(nn)),
mcs$Nation),
"nations")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 20, hjust=0.5),
axis.text.y      = element_text(size = 20, vjust=0.5),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
panel.margin     = margin(1, 1, 1, 1, "cm")
) +
scale_x_continuous(
limits = c(2009,2018),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(1,10),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(nn)
gsub(" ", "",
tolower(nn)),
mcs$Nation),
"nations")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 20, hjust=0.5),
axis.text.y      = element_text(size = 20, vjust=0.5),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2008.5,2018.5),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(0.5,10.5),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 20, hjust=0.5),
axis.text.y      = element_text(size = 20, vjust=0.5),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2008.5,2018.5),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(0.5,10.5),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(nn)
gsub(" ", "",
tolower(nn)),
mcs$Nation),
"nations")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 40),
axis.text.y      = element_text(size = 40),
axis.title.x     = element_text(size = 40),
axis.title.y     = element_text(size = 40),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2008.5,2018.5),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(0.5,10.5),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
knitr::opts_chunk$set(
echo = TRUE,
fig.width = 10,
fig.height = 10)
mcs = read.csv("marketcapitalizations.csv")
library(ggplot2)
library(png)
library(grid)
tenyearsafter<-function(years, ranks, names, folder) {
extent = 0.9
ggplot() +
labs(x = "Years", y = "Rank") +
theme(
axis.text.x      = element_text(size = 40),
axis.text.y      = element_text(size = 40),
axis.title.x     = element_blank(),
axis.title.y     = element_blank(),
axis.ticks       = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank()
) +
scale_x_continuous(
limits = c(2008.5,2018.5),
breaks = seq(2009,2018,1)
) +
scale_y_continuous(
limits = c(0.5,10.5),
breaks = seq(1,10,1),
labels = seq(10,1,-1)
) +
coord_fixed() +
mapply(function(xx, yy, nn)
annotation_custom(
rasterGrob(
readPNG(paste("icons/", folder,"/", nn,".png",sep=""))),
xmin = xx      - extent/2,
xmax = xx      + extent/2,
ymin = (11-yy) - extent/2,
ymax = (11-yy) + extent/2),
years, ranks, names)
}
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
tolower(cc))
)),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(cc)
gsub(" ", "",
gsub("&", "",
gsub("-", "",
gsub("alphabet", "google",
tolower(cc))))),
mcs$Company),
"companies")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(ii)
if (ii == "Information Technology") "it"
else if (ii == "Oil and Gas")       "oil"
else                                "empty",
mcs$Industry),
"industries")
tenyearsafter(mcs$Year,
mcs$Rank,
mapply(function(nn)
gsub(" ", "",
tolower(nn)),
mcs$Nation),
"nations")
setwd("~/GitHub/digital-pipelines2platforms")
